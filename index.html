<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FitFlow Elite Pro</title>
    <script>
        const VAULT_KEY = 'FITFLOW_MASTER_V105';
        function masterReset() {
            if(confirm("DANGER: This deletes ALL data. Continue?")) {
                localStorage.removeItem(VAULT_KEY);
                location.reload(true);
            }
        }
        if (localStorage.getItem(VAULT_KEY)) {
            document.documentElement.classList.add('vault-unlocked');
        }
    </script>
    <style>
        :root { --hb-green: #78BE20; --water-blue: #00A3E0; --bg: #F8F9FB; --text: #1C1C1E; --text-sec: #8E8E93; }
        body { background: #D1D1D6; margin: 0; display: flex; justify-content: center; font-family: -apple-system, sans-serif; color: var(--text); overflow-x: hidden; }
        .app-shell { width: 100%; max-width: 430px; background: var(--bg); min-height: 100vh; position: relative; box-shadow: 0 0 50px rgba(0,0,0,0.2); padding-bottom: 110px; }
        
        /* LOCKED SETUP FARM */
        #setupScreen { position: fixed; top: 0; width: 100%; max-width: 430px; height: 100%; background: var(--bg); z-index: 10000; padding: 30px; box-sizing: border-box; overflow-y: auto; display: block; }
        .vault-unlocked #setupScreen { display: none !important; }
        .f-label { display: block; font-size: 11px; font-weight: 800; text-transform: uppercase; color: var(--text-sec); margin: 20px 0 8px; }
        input[type="text"], input[type="number"] { width: 100%; border: 1px solid #E5E5EA; background: white; padding: 18px; border-radius: 16px; font-size: 16px; box-sizing: border-box; margin-bottom: 10px; outline: none; }
        .gender-row { display: flex; gap: 15px; margin-bottom: 10px; }
        .gender-option { flex: 1; position: relative; }
        .gender-option input { position: absolute; opacity: 0; }
        .gender-option label { display: block; background: white; border: 1px solid #E5E5EA; padding: 15px; border-radius: 16px; text-align: center; font-weight: 700; cursor: pointer; }
        .gender-option input:checked + label { border-color: var(--hb-green); background: #F0F9E8; color: var(--hb-green); }
        .legal-box { background: #F2F2F7; border-radius: 16px; padding: 18px; font-size: 12px; line-height: 1.5; margin: 15px 0; border: 1px solid #E5E5EA; }

        /* HOME CARDS */
        .top-bar { padding: 20px; display: flex; justify-content: space-between; align-items: center; background: white; border-bottom: 1px solid #EEE; }
        .card { background: white; border-radius: 28px; padding: 22px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); margin-bottom: 18px; border: 1px solid rgba(0,0,0,0.03); }
        .weight-num { font-size: 32px; font-weight: 900; letter-spacing: -1px; }
        .bridge-box { display: flex; align-items: center; justify-content: center; position: relative; margin: 30px 0; height: 40px; }
        .bridge-line { position: absolute; width: 100%; height: 2px; background: #F2F2F7; z-index: 1; }
        .bridge-badge { position: relative; z-index: 5; background: white !important; color: var(--hb-green); padding: 8px 25px; border-radius: 20px; font-size: 18px; font-weight: 900; border: 2px solid #F0F9E8; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }

        /* TAB CONTROLS */
        .diet-toggle, .day-scroller { display: flex; background: #EEE; padding: 5px; border-radius: 15px; margin-bottom: 20px; overflow-x: auto; scrollbar-width: none; }
        .toggle-btn, .day-btn { flex: 0 0 auto; min-width: 60px; padding: 10px; text-align: center; font-size: 11px; font-weight: 900; cursor: pointer; border-radius: 12px; color: var(--text-sec); }
        .active-toggle, .active-day { background: white; color: var(--hb-green); box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        
        /* WORKOUT VIDEO STYLES */
        .vid-card { background: #000; border-radius: 20px; position: relative; aspect-ratio: 16/9; margin-bottom: 15px; overflow: hidden; display: flex; align-items: center; justify-content: center; }
        .play-btn { width: 50px; height: 50px; background: rgba(255,255,255,0.3); border-radius: 50%; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(5px); }
        .vid-label { position: absolute; bottom: 10px; left: 15px; color: white; font-weight: 800; font-size: 14px; text-shadow: 0 2px 4px rgba(0,0,0,0.5); }

        /* GRID & SCREENS */
        .recipe-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 15px; border-top: 2px solid #F2F2F7; padding-top: 20px; }
        .recipe-item { background: white; padding: 12px 5px; border-radius: 18px; border: 1px solid #EEE; text-align: center; }
        .screen, .workout-sub-screen { padding: 20px; box-sizing: border-box; display: none; }
        .active-screen, .active-workout { display: block !important; }

        .btn-p { background: var(--hb-green); color: white; border: none; width: 100%; padding: 20px; border-radius: 20px; font-size: 17px; font-weight: 700; cursor: pointer; }
        .tab-bar { position: fixed; bottom: 0; width: 100%; max-width: 430px; background: white; height: 85px; display: flex; justify-content: center; align-items: center; border-radius: 30px 30px 0 0; box-shadow: 0 -10px 30px rgba(0,0,0,0.05); }
        .tab-pill { display: flex; background: #F2F2F7; padding: 6px; border-radius: 25px; width: 94%; }
        .tab-btn { flex: 1; padding: 12px 0; text-align: center; font-size: 11px; font-weight: 800; text-transform: uppercase; color: var(--text-sec); border-radius: 20px; cursor: pointer; }
        .tab-btn.active { background: white; color: var(--hb-green); }
    </style>
</head>
<body>

<div class="app-shell">
    <div id="setupScreen">
        <h1 style="font-size:36px; font-weight:900;">FitFlow Elite</h1>
        <span class="f-label">Name</span><input type="text" id="inName">
        <div style="display:flex; gap:10px;"><div style="flex:1"><input type="number" id="inH" placeholder="Height"></div><div style="flex:1"><input type="number" id="inW" placeholder="Weight"></div></div>
        <div class="gender-row">
            <div class="gender-option"><input type="radio" name="gender" value="male" id="male" checked><label for="male">Male</label></div>
            <div class="gender-option"><input type="radio" name="gender" value="female" id="female"><label for="female">Female</label></div>
        </div>
        <div class="legal-box"><strong>Health Disclaimer:</strong> Tracking only. Consult a doctor.</div>
        <label style="display:flex; gap:10px; margin-bottom:20px;"><input type="checkbox" id="termsCheck"><span>Accept 7-day progress rule</span></label>
        <button class="btn-p" onclick="initApp()">Save & Start</button>
    </div>

    <div id="homeTab" class="screen active-screen">
        <div class="top-bar"><h2 id="outName" style="margin:0; font-weight: 800;">Hi!</h2></div>
        <div class="card">
            <div style="display:flex; justify-content:space-between;"><div><span class="f-label">Current</span><span class="weight-num" id="curW">0.0</span></div><div style="text-align:right;"><span class="f-label" style="color:var(--hb-green)">Goal</span><span class="weight-num" id="goalW">--</span></div></div>
            <div class="bridge-box"><div class="bridge-line"></div><div class="bridge-badge" id="remainTxt">-- kg to go</div></div>
            <button onclick="updateWeight()" style="width:100%; border:none; background:#F2F2F7; padding:15px; border-radius:15px; font-weight:800;">UPDATE WEIGHT</button>
        </div>
        <div class="card" style="border: 2px solid #F0F9E8;"><span class="f-label">Prediction</span><h3 style="font-size:26px; font-weight:900; margin:0;"><span id="weeksLeft">--</span> Weeks</h3></div>
        <p style="text-align:center;"><a href="#" onclick="masterReset()" style="color:var(--text-sec); font-size:11px; text-decoration:none;">MASTER DATA RESET</a></p>
    </div>

    <div id="dietTab" class="screen">
        <div class="diet-toggle"><div id="masterVeg" class="toggle-btn active-toggle" onclick="unifyDiet('veg')">VEGETARIAN</div><div id="masterNon" class="toggle-btn" onclick="unifyDiet('nonveg')">NON-VEG</div></div>
        <div id="dietMorning" class="active-diet"><div class="card"><span class="f-label">Breakfast</span><div style="font-weight:700;">Herbalife Shake (3 Scoops)</div></div></div>
        <div id="lunchBox" class="card" style="font-weight:700; margin-top:10px;">Dal + Sabzi + Rice</div>
        <span class="f-label" style="margin-top:20px;">Healthy Recipes</span>
        <div class="recipe-grid" id="recipeGrid"></div>
    </div>

    <div id="workoutTab" class="screen">
        <h2 style="font-weight:900; margin-bottom:15px;">Daily Workout</h2>
        <div class="day-scroller">
            <div class="day-btn active-day" onclick="setDay('Mon', this)">MON</div>
            <div class="day-btn" onclick="setDay('Tue', this)">TUE</div>
            <div class="day-btn" onclick="setDay('Wed', this)">WED</div>
            <div class="day-btn" onclick="setDay('Thu', this)">THU</div>
            <div class="day-btn" onclick="setDay('Fri', this)">FRI</div>
            <div class="day-btn" onclick="setDay('Sat', this)">SAT</div>
            <div class="day-btn" onclick="setDay('Sun', this)">SUN</div>
        </div>

        <div id="dayContent" style="margin-top:10px;">
            </div>
    </div>

    <div class="tab-bar"><div class="tab-pill">
        <div class="tab-btn active" onclick="nav('homeTab', this)">Home</div>
        <div class="tab-btn" onclick="nav('dietTab', this)">Diet</div>
        <div class="tab-btn" onclick="nav('workoutTab', this)">Workout</div>
    </div></div>
</div>

<script>
    const vRec = [{n:'Pesarattu',i:'ü•¨'},{n:'Paneer',i:'üßÄ'},{n:'Dal Soup',i:'ü•£'},{n:'Oats Idli',i:'‚ö™'},{n:'Sprouts',i:'üå±'},{n:'Salad',i:'ü•ó'},{n:'Soya',i:'üç¢'},{n:'Buttermilk',i:'ü•õ'},{n:'Papaya',i:'ü•≠'}];
    const nRec = [{n:'Boiled Egg',i:'ü•ö'},{n:'Chicken',i:'üçó'},{n:'Fish Fry',i:'üêü'},{n:'Bhurji',i:'üç≥'},{n:'Soup',i:'üç≤'},{n:'Omelette',i:'ü•ò'},{n:'Steamed',i:'üê†'},{n:'Salad',i:'ü•ó'},{n:'Egg White',i:'‚ö™'}];

    const workouts = {
        'Mon': { t: 'Full Body HIIT', y: 'Morning Yoga', link: '#' },
        'Tue': { t: 'Core Strength', y: 'Flexibility Flow', link: '#' },
        'Wed': { t: 'Lower Body Blast', y: 'Mindful Stretch', link: '#' },
        'Thu': { t: 'Upper Body Tone', y: 'Power Yoga', link: '#' },
        'Fri': { t: 'Cardio Burn', y: 'Healing Yoga', link: '#' },
        'Sat': { t: 'Fat Burn Extreme', y: 'Sun Salutations', link: '#' },
        'Sun': { t: 'REST DAY', y: 'Meditation Only', link: 'rest' }
    };

    function setDay(day, el) {
        document.querySelectorAll('.day-btn').forEach(b => b.classList.remove('active-day'));
        el.classList.add('active-day');
        const cont = document.getElementById('dayContent');
        const data = workouts[day];
        if(data.link === 'rest') {
            cont.innerHTML = `<div class="card" style="text-align:center; padding:50px;">üè†<br><strong>Sunday is Rest Day!</strong><br><small>Focus on recovery and hydration.</small></div>`;
        } else {
            cont.innerHTML = `
                <div class="vid-card"><div class="play-btn">‚ñ∂</div><div class="vid-label">${data.t}</div></div>
                <div class="vid-card" style="background:#1C1C1E;"><div class="play-btn">‚ñ∂</div><div class="vid-label">${data.y}</div></div>
                <div class="card" style="margin-top:10px;"><span class="f-label">Today's Focus</span><p style="font-weight:700; margin:0;">30 Mins Workout + 15 Mins Yoga</p></div>
            `;
        }
    }

    function unifyDiet(t) {
        document.getElementById('masterVeg').classList.toggle('active-toggle', t==='veg');
        document.getElementById('masterNon').classList.toggle('active-toggle', t==='nonveg');
        document.getElementById('lunchBox').innerText = t==='veg' ? 'Dal + Sabzi + 100g Brown Rice' : '150g Chicken/Fish + Sabzi + Salad';
        const grid = document.getElementById('recipeGrid'); grid.innerHTML = '';
        (t==='veg'?vRec:nRec).forEach(r => { grid.innerHTML += `<div class="recipe-item"><div style="font-size:24px;">${r.i}</div><div style="font-size:10px;font-weight:800;">${r.n}</div></div>`; });
    }

    function nav(id, el) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active-screen'));
        document.querySelectorAll('.tab-btn').forEach(n => n.classList.remove('active'));
        document.getElementById(id).classList.add('active-screen'); el.classList.add('active');
        if(id === 'dietTab') unifyDiet('veg');
        if(id === 'workoutTab') setDay('Mon', document.querySelector('.day-btn'));
    }

    function initApp() {
        const n = document.getElementById('inName').value, h = document.getElementById('inH').value, w = document.getElementById('inW').value, acc = document.getElementById('termsCheck').checked;
        if(!n || !h || !w || !acc) return alert("Fill all fields.");
        localStorage.setItem(VAULT_KEY, JSON.stringify({ name:n, h:Number(h), g:'male', startW:Number(w), w:Number(w), startD:Date.now() }));
        location.reload();
    }

    function render() {
        const saved = localStorage.getItem(VAULT_KEY); if(!saved) return;
        const d = JSON.parse(saved);
        const curW = Number(d.w), over5 = (Number(d.h)/2.54)-60, goal = Math.round(50+(2.3*over5));
        document.getElementById('outName').innerText = "Hi, " + d.name.split(' ')[0];
        document.getElementById('curW').innerText = curW.toFixed(1);
        document.getElementById('goalW').innerText = goal;
        const diff = curW - goal;
        document.getElementById('remainTxt').innerText = diff > 0 ? diff.toFixed(1) + " kg to go" : "Goal Reached!";
    }

    function updateWeight() {
        const d = JSON.parse(localStorage.getItem(VAULT_KEY));
        let v = prompt("New Weight (kg):", d.w);
        if(v && !isNaN(v)) { d.w = Number(v); localStorage.setItem(VAULT_KEY, JSON.stringify(d)); render(); }
    }
    window.onload = render;
</script>
</body>
</html>
